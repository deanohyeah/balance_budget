define(function(e){var t=e("jquery"),n=e("underscore"),r=e("collections/list"),i=e("views/item_view"),s=e("views/benchmark_view"),o=e("text!templates/your_budget_item.html");return YourBudgetItemView=i.extend({el:".budget_container",events:{"click .icon-info":"showInfo","dragstart .proposal":"dragStart","dragend .proposal":"dragEnd","hover .proposal":"proposalHover","click .proposal":"clickDrop","dragenter .budget_proposal_container, .proposal_container":"dragEnter","drop .budget_proposal_container, .proposal_container":"dragDrop","dragover .budget_proposal_container, .proposal_container":"dragOver"},initialize:function(){var e=new s},render:function(){var e=this;n(this.collection.models).each(function(t){this.collection=new r(t.get("sections"));n(this.collection.models).each(function(t){e.appendItem(t)})},this);this.fixedHeader();return this},appendItem:function(e){this.$el.find(".bottom_container").append(n.template(o,e))},fixedHeader:function(){var e=t("#budgetUnique"),n=t(".budget"),r=n.height(),i=t("#proposal_bottom"),s,o,u,a=0,f,l;e.width(n.width());t(window).scroll(function(){if(!s&&!o){s=n.offset().top-a;o=i.offset().top-r-a}u=t(window).scrollTop();if(u>s){if(!f){e.addClass("fixed");f=!0}}else if(f){e.removeClass("fixed");n.removeClass("hug_footer");f=!1;l=!1}if(u>o&&!l){e.removeClass("fixed");n.addClass("hug_footer");f=!0;l=!0}else if(l&&u<o){f=!1;l=!1}})}})});